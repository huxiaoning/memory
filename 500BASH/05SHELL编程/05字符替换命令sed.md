## 字符替换命令`sed`

`sed`是一种几乎包括在所有UNIX平台(包括`Linux`)的轻量级流编辑器。
`sed`主要是用来将数据进行选取、替换、删除、新增的命令。

`sed [选项] '[动作]' 文件名`

- 选项

  - `-n`：一般`sed`命令会把所有数据都输出到屏幕，如果加入此选项则只会把经过`sed`命令处理的行输出到屏幕。

  - `-e`：允许对输入数据应用多条`sed`命令编辑。

  - `-i`：用`sed`的修改结果直接修改读取数据的文件，而不是由屏幕输出。

- 动作

  - `a`：追加，在当前行后添加一行或多行。
  
  - `c`：行替换，用c后面的字符串替换原数据行。
  
  - `i`：插入，在当前行前插入一行或多行。
  
  - `d`:删除，删除指定的行。
  
  - `p`：打印，输出指定的行。
  
  - `s`：字串替换，用一个字符串替换另外一个字符串。格式为`"行范围s/旧字串/新字串/g"`(和vim中的替换格式类似)。



## 例子

```bash
$ sed -n '2p' student.txt		#输出文件中的第二行
$ sed '2,4d' student.txt		#删除文件中第2-4行，但不修改文件本身，只输出到屏幕
$ sed '2a 漂亮就是任性' student.txt	#在第二行后追加一行内容：漂亮就是任性
$ sed '2i 帅哥' student.txt			#在第二行前插入一行内容：帅哥
$ sed '2c furong 不及格' student.txt	#将第二行替换为:furong不及格
```



## 字符串替换

```bash
$ sed 's/旧字串/新字串/g' 文件名
$ sed '3s/60/99/g' student.txt	#将第3行中的60替换成99
$ sed -i '3s/60/99/g' student.txt	#将第3行中的60替换成99，并将修改写入文件
$ sed -e 's/fengj//g;s/cang//g' student.txt	#执行多个动作，将fengj和cang替换为空
```



