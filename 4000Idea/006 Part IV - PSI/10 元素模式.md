# 元素模式

&emsp;&emsp;元素模式提供了一种通用的方式来指定对象的条件。

&emsp;&emsp;插件作者使用它们来检查PSI元素是否与一个特定的结构相匹配。就像字符串的正则表达式测试一个（子）字符串是否与一个特定的模式相匹配一样，元素模式被用来对PSI元素的嵌套结构设置条件。它们在IntelliJ平台中的两个主要应用是：

- 为自定义语言实现[自动完成贡献者](https://plugins.jetbrains.com/docs/intellij/completion-contributor.html)时指定自动完成应发生的位置。
- 指定PSI元素，通过PSI参考贡献者提供进一步参考。

&emsp;&emsp;然而，插件作者很少直接实现[ElementPattern](https://github.com/JetBrains/intellij-community/blob/idea/231.8109.175/platform/core-api/src/com/intellij/patterns/ElementPattern.java)接口。相反，我们建议使用IntelliJ平台提供的高级模式类：

| 类                                                           | 主要内容                                                   | 值得注意的示例                                               |
| ------------------------------------------------------------ | ---------------------------------------------------------- | ------------------------------------------------------------ |
| [`StandardPatterns`](https://github.com/JetBrains/intellij-community/tree/idea/231.8109.175/platform/core-api/src/com/intellij/patterns/StandardPatterns.java) | 字符串和char模式的工厂（见下文）；逻辑操作，如and, or, not | [`LogbackReferenceContributor`](https://github.com/JetBrains/intellij-community/tree/idea/231.8109.175/plugins/groovy/src/org/jetbrains/plugins/groovy/ext/logback/LogbackReferenceContributor.kt), [`RegExpCompletionContributor`](https://github.com/JetBrains/intellij-community/tree/idea/231.8109.175/RegExpSupport/src/org/intellij/lang/regexp/RegExpCompletionContributor.java) |
|                                                              |                                                            |                                                              |
|                                                              |                                                            |                                                              |
|                                                              |                                                            |                                                              |
|                                                              |                                                            |                                                              |
|                                                              |                                                            |                                                              |
|                                                              |                                                            |                                                              |

